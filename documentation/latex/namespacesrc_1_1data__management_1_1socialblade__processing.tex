\hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing}{}\doxysection{src.\+data\+\_\+management.\+socialblade\+\_\+processing Namespace Reference}
\label{namespacesrc_1_1data__management_1_1socialblade__processing}\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}


Socialblade preprocessing script. Reads raw data, processes it with pandas and saves it into csv files.  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_aba0212ff5e57dc10db119329008827d7}{load\+\_\+raw\+\_\+data}} (data\+\_\+path)
\begin{DoxyCompactList}\small\item\em Loads the raw data from the scraper. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_abefc17597c8467106d0e0f4575143a14}{extract\+\_\+key\+\_\+list}} (raw\+\_\+data)
\begin{DoxyCompactList}\small\item\em Extracts all keys present in the raw data. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_a8de44bcfcbf3ad6c47e22c402991d472}{extract\+\_\+stable\+\_\+channel\+\_\+urls}} (raw\+\_\+data)
\begin{DoxyCompactList}\small\item\em Extracts all channel urls that have data going back at least 2 years. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_ad0fdbbd050471e44d830d7d1cc7167f9}{sort\+\_\+data}} (raw\+\_\+data, key\+\_\+list, allowed\+\_\+channels=None)
\begin{DoxyCompactList}\small\item\em Sorts the time data and value data from the arrays in the correct arrays. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_ad3be87619d79244b54ad285a5baba260}{show\+\_\+data\+\_\+subset}} (data\+\_\+dict)
\begin{DoxyCompactList}\small\item\em Shows a subset of raw data. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_afd1586b82125d3ab6f0e1aab1f96e04a}{create\+\_\+month\+\_\+df}} (data\+\_\+dict, key, drop=False)
\begin{DoxyCompactList}\small\item\em Creates a pandas data frame from the data dictionary resampled into monthly bins. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_ab407e6ceda7be7bb2d3b1743f38d8433}{create\+\_\+week\+\_\+df}} (data\+\_\+dict, key, drop=False)
\begin{DoxyCompactList}\small\item\em Creates a pandas data frame from the data dictionary resampled into weekly bins. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_a17078a93bfe11fb2e1bdddc3b956da0f}{plot\+\_\+df}} (data\+\_\+frame, title)
\begin{DoxyCompactList}\small\item\em Plots the data frame. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_a4ce9bef766cc0f0f56ece65dfb84eab2}{clean\+\_\+df}} (data\+\_\+frame)
\begin{DoxyCompactList}\small\item\em Cleans the pandas data frame. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_acce4674a945992dc8d945064fb897104}{concat\+\_\+data\+\_\+frames}} (df\+\_\+list)
\begin{DoxyCompactList}\small\item\em Loads the usable data into a single pandas frame. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_a2fca53b8d0c529badd52181a252ea014}{main}} ()
\begin{DoxyCompactList}\small\item\em Loads the raw data, processes it and stores it. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_a6d2bc0bb10bb2462f4d44160292ce717}{style}}
\item 
\mbox{\hyperlink{namespacesrc_1_1data__management_1_1socialblade__processing_ab69a68c1af8d746d3df5e123962dd490}{P\+A\+TH}} = Pure\+Path.\+joinpath(Path(\+\_\+\+\_\+file\+\_\+\+\_\+).resolve().parents\mbox{[}2\mbox{]}, \textquotesingle{}res\textquotesingle{}, \textquotesingle{}socialblade\textquotesingle{})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Socialblade preprocessing script. Reads raw data, processes it with pandas and saves it into csv files. 

Data is cleaned from wrong entries such as negative view counts and resampled with pandas. Includes options to show plots for samples of the raw data as well as the final resulting data sets. Stores the data processed data to the res/socialblade/processed folder. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_a4ce9bef766cc0f0f56ece65dfb84eab2}\label{namespacesrc_1_1data__management_1_1socialblade__processing_a4ce9bef766cc0f0f56ece65dfb84eab2}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!clean\_df@{clean\_df}}
\index{clean\_df@{clean\_df}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{clean\_df()}{clean\_df()}}
{\footnotesize\ttfamily def src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+clean\+\_\+df (\begin{DoxyParamCaption}\item[{}]{data\+\_\+frame }\end{DoxyParamCaption})}



Cleans the pandas data frame. 

Removes all data with timestamps from earlier than 1.\+1.\+2018 since the old data is extremely noisy/sparse. Also drops all data entries with 0 Views/\+Subscribers. \begin{DoxyWarning}{Warning}
This is an inplace function! Input objects will be modified! 
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em data\+\_\+frame} & Pandas data frame to process. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the cleaned data\+\_\+frame. 
\end{DoxyReturn}
\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_acce4674a945992dc8d945064fb897104}\label{namespacesrc_1_1data__management_1_1socialblade__processing_acce4674a945992dc8d945064fb897104}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!concat\_data\_frames@{concat\_data\_frames}}
\index{concat\_data\_frames@{concat\_data\_frames}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{concat\_data\_frames()}{concat\_data\_frames()}}
{\footnotesize\ttfamily def src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+concat\+\_\+data\+\_\+frames (\begin{DoxyParamCaption}\item[{}]{df\+\_\+list }\end{DoxyParamCaption})}



Loads the usable data into a single pandas frame. 

Only usable data are the weekly-\/vidviews and the weekly-\/change-\/vidviews. 
\begin{DoxyParams}{Parameters}
{\em df\+\_\+list} & List of all extracted pandas data frames. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the composed single pandas data frame. 
\end{DoxyReturn}
\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_afd1586b82125d3ab6f0e1aab1f96e04a}\label{namespacesrc_1_1data__management_1_1socialblade__processing_afd1586b82125d3ab6f0e1aab1f96e04a}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!create\_month\_df@{create\_month\_df}}
\index{create\_month\_df@{create\_month\_df}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{create\_month\_df()}{create\_month\_df()}}
{\footnotesize\ttfamily def src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+create\+\_\+month\+\_\+df (\begin{DoxyParamCaption}\item[{}]{data\+\_\+dict,  }\item[{}]{key,  }\item[{}]{drop = {\ttfamily False} }\end{DoxyParamCaption})}



Creates a pandas data frame from the data dictionary resampled into monthly bins. 

Resamples the time series in the data into monthly bins and sums them up. To assess how to weight the data, also includes the number of channels that contributed per month. Optionally drops negative view counts. 
\begin{DoxyParams}{Parameters}
{\em data\+\_\+dict} & The data sorted into a dictionary by the sort\+\_\+data function. \\
\hline
{\em key} & The key to specify which data arrays to use for data frame creation. \\
\hline
{\em drop} & Flag to drop negative values from the time series. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the assembled data as a pandas data frame. 
\end{DoxyReturn}
\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_ab407e6ceda7be7bb2d3b1743f38d8433}\label{namespacesrc_1_1data__management_1_1socialblade__processing_ab407e6ceda7be7bb2d3b1743f38d8433}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!create\_week\_df@{create\_week\_df}}
\index{create\_week\_df@{create\_week\_df}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{create\_week\_df()}{create\_week\_df()}}
{\footnotesize\ttfamily def src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+create\+\_\+week\+\_\+df (\begin{DoxyParamCaption}\item[{}]{data\+\_\+dict,  }\item[{}]{key,  }\item[{}]{drop = {\ttfamily False} }\end{DoxyParamCaption})}



Creates a pandas data frame from the data dictionary resampled into weekly bins. 

Resamples the time series in the data into weekly bins and sums them up. To assess how to weight the data, also includes the number of channels that contributed per week. Optionally drops negative view counts. 
\begin{DoxyParams}{Parameters}
{\em data\+\_\+dict} & The data sorted into a dictionary by the sort\+\_\+data function. \\
\hline
{\em key} & The key to specify which data arrays to use for data frame creation. \\
\hline
{\em drop} & Flag to drop negative values from the time series. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the assembled data as a pandas data frame. 
\end{DoxyReturn}
\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_abefc17597c8467106d0e0f4575143a14}\label{namespacesrc_1_1data__management_1_1socialblade__processing_abefc17597c8467106d0e0f4575143a14}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!extract\_key\_list@{extract\_key\_list}}
\index{extract\_key\_list@{extract\_key\_list}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{extract\_key\_list()}{extract\_key\_list()}}
{\footnotesize\ttfamily def src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+extract\+\_\+key\+\_\+list (\begin{DoxyParamCaption}\item[{}]{raw\+\_\+data }\end{DoxyParamCaption})}



Extracts all keys present in the raw data. 


\begin{DoxyParams}{Parameters}
{\em raw\+\_\+data} & The unprocessed, loaded data from the scrapers. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a list of all unique keys present in the raw data. 
\end{DoxyReturn}
\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_a8de44bcfcbf3ad6c47e22c402991d472}\label{namespacesrc_1_1data__management_1_1socialblade__processing_a8de44bcfcbf3ad6c47e22c402991d472}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!extract\_stable\_channel\_urls@{extract\_stable\_channel\_urls}}
\index{extract\_stable\_channel\_urls@{extract\_stable\_channel\_urls}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{extract\_stable\_channel\_urls()}{extract\_stable\_channel\_urls()}}
{\footnotesize\ttfamily def src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+extract\+\_\+stable\+\_\+channel\+\_\+urls (\begin{DoxyParamCaption}\item[{}]{raw\+\_\+data }\end{DoxyParamCaption})}



Extracts all channel urls that have data going back at least 2 years. 


\begin{DoxyParams}{Parameters}
{\em raw\+\_\+data} & The unprocessed, loaded data from the scrapers. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a list of all long term channel urls. 
\end{DoxyReturn}
\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_aba0212ff5e57dc10db119329008827d7}\label{namespacesrc_1_1data__management_1_1socialblade__processing_aba0212ff5e57dc10db119329008827d7}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!load\_raw\_data@{load\_raw\_data}}
\index{load\_raw\_data@{load\_raw\_data}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{load\_raw\_data()}{load\_raw\_data()}}
{\footnotesize\ttfamily def src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+load\+\_\+raw\+\_\+data (\begin{DoxyParamCaption}\item[{}]{data\+\_\+path }\end{DoxyParamCaption})}



Loads the raw data from the scraper. 

Data is expected to be in the format as returned by the \mbox{\hyperlink{namespacesb__scraper}{sb\+\_\+scraper}} containers. All result files should be in a single folder. \begin{DoxyWarning}{Warning}
No other json files should be in the folder! 
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em data\+\_\+path} & File path to the raw data save folder. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the list of loaded raw data chunks returned by the work packages of the scraper. 
\end{DoxyReturn}
\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_a2fca53b8d0c529badd52181a252ea014}\label{namespacesrc_1_1data__management_1_1socialblade__processing_a2fca53b8d0c529badd52181a252ea014}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!main@{main}}
\index{main@{main}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Loads the raw data, processes it and stores it. 

\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_a17078a93bfe11fb2e1bdddc3b956da0f}\label{namespacesrc_1_1data__management_1_1socialblade__processing_a17078a93bfe11fb2e1bdddc3b956da0f}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!plot\_df@{plot\_df}}
\index{plot\_df@{plot\_df}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{plot\_df()}{plot\_df()}}
{\footnotesize\ttfamily def src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+plot\+\_\+df (\begin{DoxyParamCaption}\item[{}]{data\+\_\+frame,  }\item[{}]{title }\end{DoxyParamCaption})}



Plots the data frame. 

Uses the seaborn line plot to plot the data presented by the data frame. Views are inversly weighted by the number of accounts contributing towards them. 
\begin{DoxyParams}{Parameters}
{\em data\+\_\+frame} & Pandas data frame to plot. \\
\hline
{\em title} & The plot title. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_ad3be87619d79244b54ad285a5baba260}\label{namespacesrc_1_1data__management_1_1socialblade__processing_ad3be87619d79244b54ad285a5baba260}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!show\_data\_subset@{show\_data\_subset}}
\index{show\_data\_subset@{show\_data\_subset}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{show\_data\_subset()}{show\_data\_subset()}}
{\footnotesize\ttfamily def src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+show\+\_\+data\+\_\+subset (\begin{DoxyParamCaption}\item[{}]{data\+\_\+dict }\end{DoxyParamCaption})}



Shows a subset of raw data. 

Each key category is plotted once. Data for each key is randomly chosen among all available data for this particular key. Uses a seaborn lineplot. \begin{DoxyWarning}{Warning}
Individual plots DO N\+OT belong to the same channel! 
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em data\+\_\+dict} & The data sorted into a dictionary by the sort\+\_\+data function. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_ad0fdbbd050471e44d830d7d1cc7167f9}\label{namespacesrc_1_1data__management_1_1socialblade__processing_ad0fdbbd050471e44d830d7d1cc7167f9}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!sort\_data@{sort\_data}}
\index{sort\_data@{sort\_data}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{sort\_data()}{sort\_data()}}
{\footnotesize\ttfamily def src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+sort\+\_\+data (\begin{DoxyParamCaption}\item[{}]{raw\+\_\+data,  }\item[{}]{key\+\_\+list,  }\item[{}]{allowed\+\_\+channels = {\ttfamily None} }\end{DoxyParamCaption})}



Sorts the time data and value data from the arrays in the correct arrays. 


\begin{DoxyParams}{Parameters}
{\em raw\+\_\+data} & The unprocessed, loaded data from the scrapers. \\
\hline
{\em key\+\_\+list} & The list of all unique keys present in the raw data. \\
\hline
{\em allowed\+\_\+channels} & List of channel urls that are used for the data acquisition. None allows all channels. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the restructured data as a dictionary of unique keys with all their data as value. 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_ab69a68c1af8d746d3df5e123962dd490}\label{namespacesrc_1_1data__management_1_1socialblade__processing_ab69a68c1af8d746d3df5e123962dd490}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!PATH@{PATH}}
\index{PATH@{PATH}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{PATH}{PATH}}
{\footnotesize\ttfamily src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+P\+A\+TH = Pure\+Path.\+joinpath(Path(\+\_\+\+\_\+file\+\_\+\+\_\+).resolve().parents\mbox{[}2\mbox{]}, \textquotesingle{}res\textquotesingle{}, \textquotesingle{}socialblade\textquotesingle{})}

\mbox{\Hypertarget{namespacesrc_1_1data__management_1_1socialblade__processing_a6d2bc0bb10bb2462f4d44160292ce717}\label{namespacesrc_1_1data__management_1_1socialblade__processing_a6d2bc0bb10bb2462f4d44160292ce717}} 
\index{src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}!style@{style}}
\index{style@{style}!src.data\_management.socialblade\_processing@{src.data\_management.socialblade\_processing}}
\doxysubsubsection{\texorpdfstring{style}{style}}
{\footnotesize\ttfamily src.\+data\+\_\+management.\+socialblade\+\_\+processing.\+style}

